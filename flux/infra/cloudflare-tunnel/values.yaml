---
apiVersion: v1
kind: ConfigMap
metadata:
  name: values
data:
  values.yaml: |
    cloudflare:
      remote: true
      remote_vars:
        tokenSecretName: cloudflare-tunnel

    pdb:
      enable: true

    resources:
      requests:
        cpu: 5m
        memory: 64Mi
      limits:
        cpu: 100m
        memory: 256Mi
    autoscaling:
      enabled: true

    extraVolumes:
      - name: extra-volume
        csi:
          driver: secrets-store.csi.k8s.io
          readOnly: true
          volumeAttributes:
            secretProviderClass: cloudflare-tunnel
    extraVolumeMounts:
      - name: cloudflare-tunnel
        mountPath: /etc/secrets
        readOnly: true
